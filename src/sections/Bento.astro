---
import BentoItem from '@components/BentoItem.astro'

const BentoItemsData = [
  {
    style: 'col-start-1 row-start-1 row-span-2 md:col-start-1 md:row-start-1 md:col-span-2 md:row-span-4',
    slug: 'alianza',
    title: 'Alianza Guerrero',
    image: '/bento/alianza-guerrero.jpg'
  },
  {
    style: 'col-start-2 row-start-1 col-span-2 md:col-start-3 md:row-start-1 md:col-span-4 md:row-span-2',
    slug: 'boys',
    title: 'Imagen Boys Hinchada',
    image: '/bento/boys-hinchada.jpg'
  },
  {
    style: 'col-start-3 row-start-2 row-span-2 md:col-start-5 md:row-start-3 md:col-span-2 md:row-span-4',
    slug: 'cristal',
    title: 'Cristal Caute',
    image: '/bento/cristal-caute.jpg'
  },
  {
    style: 'col-start-2 row-start-2 md:col-start-3 md:row-start-3 md:col-span-2 md:row-span-2',
    slug: 'uni',
    title: 'Universitario Flores',
    image: '/bento/uni-flores.jpg'
  },
  {
    style: 'col-start-1 row-start-3 col-span-2 md:col-start-1 md:row-start-5 md:col-span-4 md:row-span-2',
    slug: 'cusco',
    title: 'Cusco Equipo',
    image: '/bento/cusco-equipo.jpg'
  }
]
---
<section class="w-full max-w-6xl grid grid-cols-3 md:grid-cols-6 grid-rows-3 md:grid-rows-6 gap-2 m-4 p-10">
  {
    BentoItemsData.map(({style, slug, title, image}) => (
      <BentoItem class={style} slug={slug} name={title} img={image} />
    ))
  }
</section>

<section id="imagePressed" class="fixed p-5 inset-0 w-full bg-black bg-opacity-75 items-center justify-center z-50 h-lvh hidden">
  <img id="pressedImage" class="w-full h-full rounded-md max-w-6xl mx-auto my-auto object-contain" />
</section>

<script type="module" is:inline>
  const articles = document.querySelectorAll('[id^="article-"]')
  const imagePressed = document.querySelector('#imagePressed')
  const pressedImage = document.querySelector('#pressedImage')

  articles.forEach(article => {
    const slug = article.id.split('-')[1]
    article.addEventListener('click', () => {
      const image = article.querySelector(`#image-${slug}`)
      pressedImage.src = image.src
      pressedImage.alt = image.alt
      imagePressed.classList.replace('hidden', 'flex')
      imagePressed
      document.body.style.overflow = 'hidden'
    })
  })

  imagePressed.addEventListener('click', () => {
    imagePressed.classList.add('hidden')
    document.body.style.overflow = 'auto'
  })
</script>